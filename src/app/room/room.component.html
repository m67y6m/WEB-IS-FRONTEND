<div class="container-fluid">
  <div class="row">
    <main class="main-content col-lg-10 col-md-9 col-sm-12 p-0 offset-lg-2 offset-md-3">
      <div class="main-navbar sticky-top bg-white">
        <!-- Navbar code here -->
      </div>
      <div class="main-content-container container-fluid px-4">
        <div class="page-header row no-gutters py-4">
          <div class="col-12 col-sm-4 text-center text-sm-left mb-0">
            <h1 class="page-title">Rooms</h1>
            <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#addRoomModal">Add New Room</button>
          </div>
        </div>
        
        <div class="card-container">
          <div class="card" *ngFor="let room of rooms">
            <img [src]="'http://localhost:8080/rooms/images/' + room.roomPicture" style="width:100%; height: 200px;">
            <div class="card-content">
              <p>Room Type: {{ room.roomType }}</p>
              <p>Room Status: {{ room.roomStatus }}</p>
              <p>Price: {{ room.roomPrice }} $</p>
              <button (click)="openEditModal(room)">Edit</button>
              <button class="delete" (click)="confirmDelete(room.roomId)">Delete</button>
            </div>
          </div>
        </div>
        
        <!-- Modal for Adding New Room -->
        <div class="modal fade" id="addRoomModal" tabindex="-1" role="dialog" aria-labelledby="addRoomModalLabel" aria-hidden="true">
          <div class="modal-dialog" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class="modal-body">
                <form [formGroup]="roomForm" (ngSubmit)="onSubmit()" enctype="multipart/form-data">
                  <div class="form-group">
                    <label for="room-type" class="col-form-label">Room type:</label>
                    <input type="text" class="form-control" id="room-type" formControlName="roomType">
                  </div>
                  <div class="form-group">
                    <label for="room-price" class="col-form-label">Room price:</label>
                    <input type="number" class="form-control" id="room-price" formControlName="roomPrice">
                  </div>
                  <div class="form-group">
                    <label for="room-picture" class="col-form-label">Room picture:</label>
                    <input type="file" class="form-control" id="room-picture" (change)="onFileChange($event)">
                  </div>
                  <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    <button type="submit" class="btn btn-primary">Save Changes</button>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Modal for Editing Room -->
          <div class="modal fade" id="editRoomModal" tabindex="-1" role="dialog" aria-labelledby="editRoomModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="resetForm()">
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
                <div class="modal-body">
                  <form [formGroup]="editRoomForm" (ngSubmit)="onEditSubmit()" enctype="multipart/form-data">
                    <div class="form-group">
                      <label for="edit-room-type" class="col-form-label">Room type:</label>
                      <input type="text" class="form-control" id="edit-room-type" formControlName="roomType">
                    </div>
                    <div class="form-group">
                      <label for="edit-room-price" class="col-form-label">Room price:</label>
                      <input type="number" class="form-control" id="edit-room-price" formControlName="roomPrice">
                    </div>
                    <div class="form-group">
                      <label for="edit-room-picture" class="col-form-label">Room picture:</label>
                      <input type="file" class="form-control" id="edit-room-picture" (change)="onEditFileChange($event)">
                    </div>
                    <div class="modal-footer">
                      <button type="button" class="btn btn-secondary" data-dismiss="modal" (click)="resetForm()">Close</button>
                      <button type="submit" class="btn btn-primary">Save Changes</button>
                    </div>
                  </form>
                </div>
              </div>
            </div>
          </div>


      </div>
      <footer class="main-footer d-flex p-2 px-3 bg-white border-top">
        <span class="copyright ml-auto my-auto mr-2">2024
          <a href="https://wa.me/774567888" rel="nofollow">m67y6m</a>
        </span>
      </footer>
    </main>
  </div>
</div>
